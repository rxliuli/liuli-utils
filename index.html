<html lang="en">
<head>
    <title>liuli-util</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mini.css/3.0.1/mini-default.min.css">
    <style>
        h5 {
            font-size: 1.2rem;
            font-weight: bold;
        }

        code {
            line-height: inherit;
        }

        :root {
            scroll-behavior: smooth;
        }

        header {
            display: flex;
            align-items: center;
        }

        .spacer {
            flex-grow: 1;
        }
    </style>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<header>
    <a href="/" class="logo">liuli-util</a>
            <a class="button" href="https://github.com/rxliuli/rx-util" target="_blank">GitHub</a>
        <div class="spacer"></div>
    <button onclick="openSearch()"><span class="icon-search"></span> Search: <kbd>Ctrl</kbd>+<kbd>K</kbd></button>
</header>
<div class="container">
    <div class="row">
        <aside class="col-sm-12 col-md-4 col-lg-3">
            <nav class="fixed">
                <a href="/">Project README</a>
                <span>Modules</span>
                                    <a href="/@liuli-util/array">
                        <code>
                            @liuli-util/array                        </code>
                    </a>
                                    <a href="/@liuli-util/async">
                        <code>
                            @liuli-util/async                        </code>
                    </a>
                                    <a href="/@liuli-util/dom">
                        <code>
                            @liuli-util/dom                        </code>
                    </a>
                                    <a href="/@liuli-util/idea">
                        <code>
                            @liuli-util/idea                        </code>
                    </a>
                                    <a href="/@liuli-util/object">
                        <code>
                            @liuli-util/object                        </code>
                    </a>
                                    <a href="/@liuli-util/other">
                        <code>
                            @liuli-util/other                        </code>
                    </a>
                                    <a href="/@liuli-util/string">
                        <code>
                            @liuli-util/string                        </code>
                    </a>
                                    <a href="/@liuli-util/test">
                        <code>
                            @liuli-util/test                        </code>
                    </a>
                                    <a href="/@liuli-util/tree">
                        <code>
                            @liuli-util/tree                        </code>
                    </a>
                            </nav>
        </aside>
        <div class="col-sm-12 col-md-8 col-lg-6">
<h1>日常使用的 TypeScript 工具库</h1>
<p><a href="https://www.npmjs.com/org/liuli-util"><img src="https://img.shields.io/npm/v/@liuli-util/async.svg?color=red&amp;label=npm" alt="npm"></a> <a href="https://liuli-utils.rxliuli.com/"><img src="https://img.shields.io/badge/document-98%25-brightgreen.svg" alt="doc"></a> <a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/license-MIT-blue.svg" alt="license-MIT-blue"></a></p>
<h2>简介</h2>
<p>吾辈使用的工具函数库，按照功能分割成不同的模块，都发布在 <a href="https://www.npmjs.com/org/liuli-util">@liuli-util</a> 组织下，可以单独引入指定模块。</p>
<h2>变革</h2>
<p>大约在 2018 年下半年，吾辈创建了这个工具库项目，初衷非常简单：<strong>“吾辈日常写传统前端时需要大量相同的函数，所以需要写一个能在浏览器上使用的库，仅此而已。 该库大部分代码已经通过单元测试，但还请谨慎用于生产环境。不包含单元测试的部分大部分是 DOM 操作相关函数，以及部分异步代码。如果在使用中遇到了什么问题，欢迎提 <a href="https://github.com/rxliuli/liuli-util/issues">issue</a>, 或者 <a href="https://github.com/rxliuli/liuli-util/pulls">PR</a> 亦可”</strong>。
时光荏苒，吾辈已经从一个后端开发变为前端开发，这个项目中包含的功能越来越多，维护难度越来越大，在项目中的引入成本逐渐变高，甚至到了 nodejs 项目无法引入的程度 -- 即便有许多功能是环境无关的。</p>
<p>所以这次升级 2.0 希望解决的几个问题如下</p>
<ul>
<li>[x] 清理不需要的功能</li>
<li>[x] 使用 monorepo 增强项目的可维护性</li>
<li>[x] 修改项目的名字（rx-util 看起来很像 <a href="https://rxjs-dev.firebaseapp.com/guide/overview">rx.js</a> 相关的工具包）</li>
<li>[ ] 使用 monorepo 分割打包减小在项目中的引入成本 -- babel 的 567 三个版本转变的惨剧历历在目</li>
<li>[ ] 找到对用户更友好的使用方式 <code>class vs function</code> -- 面向对象 vs 函数式</li>
</ul>
<h2>许可证</h2>
<p><a href="./LICENSE">MIT</a></p>
</div>
</div>
</div>
<script src="https://rawcdn.githack.com/nextapps-de/flexsearch/master/dist/flexsearch.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/fliegwerk/search-popup/dist/bundle.js"></script>
<script>
    const searchIndex = new FlexSearch({
        encode: q => (q.replace(/([a-z])([A-Z])/g, "$1 $2")).toLowerCase() + ' ' + q.toLowerCase(),
        // encode: q => (q.replace(/(.*)[\W.](.*)/g, "$1$2")).toLowerCase(),
        tokenize: "full",
        threshold: 0,
        resolution: 9,
        depth: 3,
        doc: {
            id: 'url',
            field: ['name', 'text']
        }
    });

    function search(q) {
        q = q || '';
        return searchIndex.search((q.replace(/([a-z])([A-Z])/g, "$1 $2")).toLowerCase(), 5)
    }

    fetch('/search-index.json').then(r => r.json()).then(index => {
        searchIndex.add(index)

        const searchPopup = document.createElement('search-popup');
        searchPopup.setAttribute('search', 'search')
        document.body.appendChild(searchPopup);
    });
</script>
</body>
</html>
